# Анализ результатов A/B теста по привлечению новых пользователей

## Цели и задачи

**Цель –**  провести оценку результатов теста и его корректности.

**Задачи:**
- Обзор данных
- Предобработка данных
- Исследовательский анализ данных
- Оценка корректности A/B-теста
- Оценка результатов A/B-теста
- Составление выводов и рекомендаций

## Информация о тесте
- Название теста: recommender_system_test;
- Группы: А (контрольная), B (новая платёжная воронка);
- Дата запуска: 2020-12-07;
- Дата остановки набора новых пользователей: 2020-12-21;
- Дата остановки: 2021-01-04;
- Аудитория: 15% новых пользователей из региона EU;
- Назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- Ожидаемое количество участников теста: 6000.
- Ожидаемый эффект: за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 10%:
    - конверсии в просмотр карточек товаров — событие product_page
    - просмотры корзины — product_cart
    - покупки — purchase.


## Данные
- ab_project_marketing_events.csv — календарь маркетинговых событий на 2020 год; 
    - name — название маркетингового события;
    - regions — регионы, в которых будет проводиться рекламная кампания;
    - start_dt — дата начала кампании;
    - finish_dt — дата завершения кампании.

- final_ab_new_users.csv — все пользователи, зарегистрировавшиеся в интернет-магазине в период с 7 по 21 декабря 2020 года;
    
    Структура файла:
    - user_id — идентификатор пользователя;
    - first_date — дата регистрации;
    - region — регион пользователя;
    - device — устройство, с которого происходила регистрация.
    
    
- final_ab_events.csv — все события новых пользователей в период с 7 декабря 2020 по 4 января 2021 года;
    - user_id — идентификатор пользователя;
    - event_dt — дата и время события;
    - event_name — тип события;
    - details — дополнительные данные о событии. Например, для покупок, purchase, в этом поле хранится стоимость покупки в долларах.


-final_ab_participants.csv — таблица участников тестов.
    - user_id — идентификатор пользователя;
    - ab_test — название теста;
    - group — группа пользователя.
    
## Используемые инструменты: 
*Python, Pandas, Matplotlib, SciPy, Анализ текстовых наименований, A/B-тестирование, проверка статистических гипотез*

## Выводы
- **Предвариварительная обработка данных:**
    - преобразованы типы данных;
    - обнаружены пропуски в данных в столбце цены события;
    - эти пропуски были проигнорированны, т.к. на дальнейший анализ не имели влияния;
    - явных дубликатов не обнаружено.
- **При оценке корректности проведения теста обнаружено:**
    - несоответствие диапазона дат регистрации;
    - диапазона дат окончания теста, что может быть связано с новогодними выходными или преждевременным окончанием теста в связи с ясностью выводов;
    - пересечение с одной маркентинговой активностью;
    - пользователи конкурирующего теста;
    - пользователи не из региона EU;
    - распределение участников достаточно неравномерное;
    - количество участников теста приближено к 6000;
    - различие долей групп участников А и В превышает 10%;
    - обработаны пользователи, которые были зарегестрированны, но далее бездействовали;
    - все вышеперечисленные особенности были учтены, а датасеты скорректированны.
- **При исследовательском анализе данных выявлено:**
    - количество событий на пользователя по группам различаются;
    - число событий по дням постпенно нарастает с приходом новых пользователей и после пяти дней старта регистрации количество событий начинает интенсивно увеличиваться и ближе к январю медленно снижается в в контрольной группе;
    - число событий тестовой группы распределено равномерно по времени;
    - метрики куммулятивных конверсий в начальный период (первые 5-7 дней) ведут себя достаточно скачкообразно с относительно интенсывными колебаниями роста и падения, а далее стабилизируются;
    - конверсии просмотра страницы товара, корзины покупок ухудшились.
- **Тесты статистической значимости равенства долей конверсий метрик показали что:**
    - доля событий product_page в группе A НЕ равна доли событий в группе В;
    - доля событий product_cart в группе A равна доли событий в группе В;
    - доля событий purchase в группе A НЕ равна доли событий в группе В.

Таким образом, A/B тест не был проведён корретно по всем пунктам ТЗ, однако, обработка данных позволила привести датасеты в вид необходимый для дальнейшего корректного исследования и проверки статистических гипотез. Исследовательский анализ полученных данных показал, что метрики тестировочной группы не превышают значения метрик контрольной группы. Поэтому можно сделать вывод о том, что тестовая рекомендательная система не улучшает метрики, а даже некоторые немного их ухудшает.  
