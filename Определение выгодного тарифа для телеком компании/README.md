# Определение перспективного тарифа для телеком-компании

## Цели и задачи

**Цель –** определение выгодного тарифного плана для корректировки рекламного бюджета.

**Задачи:**
- обзор и предобработка данных;
- расчёт характеристик для каждого пользователя;
- анализ метрик;
- проверка гипотез:
    - равенства среднего выручек тарифов;
    - равенства среднего выручек Москвы и других регионов.

## Данные
Данные 500 пользователей тарифных планов «Смарт» и «Ультра» за 2018 год.

- Таблица users (информация о пользователях):
    - user_id — уникальный идентификатор пользователя
    - first_name — имя пользователя
    - last_name — фамилия пользователя
    - age — возраст пользователя (годы)
    - reg_date — дата подключения тарифа (день, месяц, год)
    - churn_date — дата прекращения пользования тарифом (если значение пропущено, то тариф ещё действовал на момент выгрузки данных)
    - city — город проживания пользователя
    - tariff — название тарифного плана

- Таблица calls (информация о звонках):
    - id — уникальный номер звонка
    - call_date — дата звонка
    - duration — длительность звонка в минутах
    - user_id — идентификатор пользователя, сделавшего звонок

- Таблица messages (информация о сообщениях):
    - id — уникальный номер сообщения
    - message_date — дата сообщения
    - user_id — идентификатор пользователя, отправившего сообщение

- Таблица internet (информация об интернет-сессиях):
    - id — уникальный номер сессии
    - mb_used — объём потраченного за сессию интернет-трафика (в мегабайтах)
    - session_date — дата интернет-сессии
    - user_id — идентификатор пользователя

- Таблица tariffs (информация о тарифах):
    - tariff_name — название тарифа
    - rub_monthly_fee — ежемесячная абонентская плата в рублях
    - minutes_included — количество минут разговора в месяц, включённых в абонентскую плату
    - messages_included — количество сообщений в месяц, включённых в абонентскую плату
    - mb_per_month_included — объём интернет-трафика, включённого в абонентскую плату (в мегабайтах)
    - rub_per_minute — стоимость минуты разговора сверх тарифного пакета (например, если в тарифе 100 минут разговора в месяц, то со 101 минуты будет взиматься плата)
    - rub_per_message — стоимость отправки сообщения сверх тарифного пакета
    - rub_per_gb — стоимость дополнительного гигабайта интернет-трафика сверх тарифного пакета (1 гигабайт = 1024 мегабайта)

## Примечание
- «Мегалайн» всегда округляет секунды до минут, а мегабайты — до гигабайт:
- Каждый звонок округляется отдельно: даже если он длился всего 1 секунду, будет засчитан как 1 минута. 
- Для веб-трафика отдельные сессии не считаются. Вместо этого общая сумма за месяц округляется в бо́льшую сторону. Если абонент использует 1025 мегабайт в этом месяце, с него возьмут плату за 2 гигабайта.

## Используемые инструменты: 
*Python, Pandas, Matplotlib, Seaborn, Numpy, Scipy*

## Выводы
1. Обзор данных
    - Рассмотрен тип данных в столбцах;
    - Основные характеристики данных получены методом describe();
    - Оценено количество данных и параметров.
2. Предобработка данных
    - Названия столбцов переименованы в более удобный стиль, а также приведены к одному регистру;
    - Оценено количество пропусков по каждому столбцу;
    - Пропуски в данных категоризированы;
    - Выполнены замены пропусков в тех случаях, где на мой взгляд это действительно необходимо;
    - Заменены 4 столбца float на int, один на bool и еще один на datetime;
    - Явные дубликаты обнаружены с учетом повторных объявлений;
    - Неявные дубликаты устранены.
3. Расчеты и добавление результатов в таблицу
    - Рассчитаны основные показатели.
4. Исследовательский анализ данных
    - Выводы по всей базе:
        - Большинство квартир имеют площадь от 39 до 63 кв. метров;
        - Квартир меньше 15 м кв. практически нет;
        - Медианное значение цена приблизительно 4.35 млн;
        - Большинство квартир имеют одну или две комнаты;
        - Подавляющее количество квартир имеют высоту 2.5 м;
        - Устранены объявления с короткими и очень длительными продажами;
        - Обнаружены аномалии в длительности продаж, высказанны их причины;
        - Обнаружена слабая прямая зависимость цены от общей площади;
        - Прямых зависимостей между ценой, количеством комнат и расстоянием от центра нет;
        - Описан ряд особенностей ценообразования в зависимости от площади, количества комнат и расстояния от центра;
        - Средняя цена квартир на "других" этажах выше, а на первом ниже остальных этажей;
        - Средняя цена за квадратный метр выше на "других" этажах;
        - Цена объявлений плюс минус равномерна в завсисимости от дня недели и месяца;
        - Наблюдается тенденция к росту цены за квадратный метр с 2017 по 2019 годы;
        - По средней стоимости квадратного метра лидирует Санкт-Петербург, а 10-ку замыкает Выборг;
        - Выделена центральная зона - до 9 км от центра.
    - Квартиры в центре:
        - Квартриры имеют большую площадь на 9 кв. м;
        - Большинство квартир имеют две комнаты;
        - Подавляющее количество квартир имеют высоту 3 и 2.5 м;
        - Зависимость цены от площади более тесная;
        - Цены в центре выше и внутри центра зависимости от расстояни не наблюдается;
        - С 2015 по 2018 диапазон цен увеличивался;
        - В 2015 году были наиболее низкие цены.
